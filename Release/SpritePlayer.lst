                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.0 #9615 (MINGW64)
                              4 ;--------------------------------------------------------
                              5 	.module SpritePlayer
                              6 	.optsdcc -mgbz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _PlayFx
                             12 	.globl _SpriteManagerRemove
                             13 	.globl _SpriteManagerAdd
                             14 	.globl _SetState
                             15 	.globl _CheckCollision
                             16 	.globl _TranslateSprite
                             17 	.globl _SetSpriteAnim
                             18 	.globl _next_lvl
                             19 	.globl _door_y
                             20 	.globl _door_x
                             21 	.globl _bank_SPRITE_PLAYER
                             22 	.globl _anim_up
                             23 	.globl _anim_left
                             24 	.globl _anim_right
                             25 	.globl _anim_down
                             26 	.globl _anim_idle
                             27 	.globl _Start_SPRITE_PLAYER
                             28 	.globl _Update_SPRITE_PLAYER
                             29 	.globl _Destroy_SPRITE_PLAYER
                             30 ;--------------------------------------------------------
                             31 ; ram data
                             32 ;--------------------------------------------------------
                             33 	.area _DATA
   0000                      34 _bank_SPRITE_PLAYER::
   0000                      35 	.ds 1
   0001                      36 _door_x::
   0001                      37 	.ds 2
   0003                      38 _door_y::
   0003                      39 	.ds 2
   0005                      40 _next_lvl::
   0005                      41 	.ds 2
                             42 ;--------------------------------------------------------
                             43 ; absolute external ram data
                             44 ;--------------------------------------------------------
                             45 	.area _DABS (ABS)
                             46 ;--------------------------------------------------------
                             47 ; global & static initialisations
                             48 ;--------------------------------------------------------
                             49 	.area _HOME
                             50 	.area _GSINIT
                             51 	.area _GSFINAL
                             52 	.area _GSINIT
                             53 ;SpritePlayer.c:14: UINT8 bank_SPRITE_PLAYER = 2;
   0000 21r00r00             54 	ld	hl,#_bank_SPRITE_PLAYER
   0003 36 02                55 	ld	(hl),#0x02
                             56 ;--------------------------------------------------------
                             57 ; Home
                             58 ;--------------------------------------------------------
                             59 	.area _HOME
                             60 	.area _HOME
                             61 ;--------------------------------------------------------
                             62 ; code
                             63 ;--------------------------------------------------------
                             64 	.area _CODE_2
                             65 ;SpritePlayer.c:20: void Start_SPRITE_PLAYER() {
                             66 ;	---------------------------------
                             67 ; Function Start_SPRITE_PLAYER
                             68 ; ---------------------------------
   0000                      69 _Start_SPRITE_PLAYER::
                             70 ;SpritePlayer.c:21: THIS->coll_x = 1;
   0000 21r01r00             71 	ld	hl,#_THIS + 1
   0003 2B                   72 	dec	hl
   0004 4E                   73 	ld	c,(hl)
   0005 23                   74 	inc	hl
   0006 46                   75 	ld	b,(hl)
   0007 21 0C 00             76 	ld	hl,#0x000c
   000A 09                   77 	add	hl,bc
   000B 4D                   78 	ld	c,l
   000C 44                   79 	ld	b,h
   000D 3E 01                80 	ld	a,#0x01
   000F 02                   81 	ld	(bc),a
                             82 ;SpritePlayer.c:22: THIS->coll_y = 0;
   0010 21r01r00             83 	ld	hl,#_THIS + 1
   0013 2B                   84 	dec	hl
   0014 4E                   85 	ld	c,(hl)
   0015 23                   86 	inc	hl
   0016 46                   87 	ld	b,(hl)
   0017 21 0D 00             88 	ld	hl,#0x000d
   001A 09                   89 	add	hl,bc
   001B 4D                   90 	ld	c,l
   001C 44                   91 	ld	b,h
   001D AF                   92 	xor	a, a
   001E 02                   93 	ld	(bc),a
                             94 ;SpritePlayer.c:23: THIS->coll_w = 13;
   001F 21r01r00             95 	ld	hl,#_THIS + 1
   0022 2B                   96 	dec	hl
   0023 4E                   97 	ld	c,(hl)
   0024 23                   98 	inc	hl
   0025 46                   99 	ld	b,(hl)
   0026 21 0E 00            100 	ld	hl,#0x000e
   0029 09                  101 	add	hl,bc
   002A 4D                  102 	ld	c,l
   002B 44                  103 	ld	b,h
   002C 3E 0D               104 	ld	a,#0x0d
   002E 02                  105 	ld	(bc),a
                            106 ;SpritePlayer.c:24: THIS->coll_h = 16;
   002F 21r01r00            107 	ld	hl,#_THIS + 1
   0032 2B                  108 	dec	hl
   0033 4E                  109 	ld	c,(hl)
   0034 23                  110 	inc	hl
   0035 46                  111 	ld	b,(hl)
   0036 21 0F 00            112 	ld	hl,#0x000f
   0039 09                  113 	add	hl,bc
   003A 4D                  114 	ld	c,l
   003B 44                  115 	ld	b,h
   003C 3E 10               116 	ld	a,#0x10
   003E 02                  117 	ld	(bc),a
   003F C9                  118 	ret
   0040                     119 _anim_idle:
   0040 01                  120 	.db #0x01	; 1
   0041 00                  121 	.db #0x00	; 0
   0042                     122 _anim_down:
   0042 02                  123 	.db #0x02	; 2
   0043 01                  124 	.db #0x01	; 1
   0044 02                  125 	.db #0x02	; 2
   0045                     126 _anim_right:
   0045 02                  127 	.db #0x02	; 2
   0046 03                  128 	.db #0x03	; 3
   0047 04                  129 	.db #0x04	; 4
   0048                     130 _anim_left:
   0048 02                  131 	.db #0x02	; 2
   0049 05                  132 	.db #0x05	; 5
   004A 06                  133 	.db #0x06	; 6
   004B                     134 _anim_up:
   004B 02                  135 	.db #0x02	; 2
   004C 07                  136 	.db #0x07	; 7
   004D 08                  137 	.db #0x08	; 8
                            138 ;SpritePlayer.c:27: void Update_SPRITE_PLAYER() {
                            139 ;	---------------------------------
                            140 ; Function Update_SPRITE_PLAYER
                            141 ; ---------------------------------
   004E                     142 _Update_SPRITE_PLAYER::
   004E E8 FB               143 	add	sp, #-5
                            144 ;SpritePlayer.c:32: if(KEY_PRESSED(J_UP)){
   0050 21r00r00            145 	ld	hl,#_keys
   0053 4E                  146 	ld	c,(hl)
   0054 06 00               147 	ld	b,#0x00
   0056 CB 51               148 	bit	2, c
   0058 CArB2r00            149 	jp	Z,00102$
                            150 ;SpritePlayer.c:33: THIS->y--;
   005B 21r01r00            151 	ld	hl,#_THIS + 1
   005E 2B                  152 	dec	hl
   005F 4E                  153 	ld	c,(hl)
   0060 23                  154 	inc	hl
   0061 46                  155 	ld	b,(hl)
   0062 21 09 00            156 	ld	hl,#0x0009
   0065 09                  157 	add	hl,bc
   0066 7D                  158 	ld	a,l
   0067 54                  159 	ld	d,h
   0068 F8 03               160 	ldhl	sp,#3
   006A 22                  161 	ld	(hl+),a
   006B 72                  162 	ld	(hl),d
   006C 2B                  163 	dec	hl
   006D 5E                  164 	ld	e,(hl)
   006E 23                  165 	inc	hl
   006F 56                  166 	ld	d,(hl)
   0070 1A                  167 	ld	a,(de)
   0071 4F                  168 	ld	c,a
   0072 13                  169 	inc	de
   0073 1A                  170 	ld	a,(de)
   0074 47                  171 	ld	b,a
   0075 0B                  172 	dec	bc
   0076 2B                  173 	dec	hl
   0077 2A                  174 	ld	a,(hl+)
   0078 66                  175 	ld	h,(hl)
   0079 6F                  176 	ld	l,a
   007A 71                  177 	ld	(hl),c
   007B 23                  178 	inc	hl
   007C 70                  179 	ld	(hl),b
                            180 ;SpritePlayer.c:34: SetSpriteAnim(THIS, anim_up, 10);
   007D 3E 0A               181 	ld	a,#0x0a
   007F F5                  182 	push	af
   0080 33                  183 	inc	sp
   0081 21r4Br00            184 	ld	hl,#_anim_up
   0084 E5                  185 	push	hl
   0085 21r00r00            186 	ld	hl,#_THIS
   0088 2A                  187 	ld	a,(hl+)
   0089 66                  188 	ld	h,(hl)
   008A 6F                  189 	ld	l,a
   008B E5                  190 	push	hl
   008C CDr00r00            191 	call	_SetSpriteAnim
   008F E8 05               192 	add	sp, #5
                            193 ;SpritePlayer.c:35: TranslateSprite(THIS, 0, -1 << delta_time);
   0091 21r00r00            194 	ld	hl,#_delta_time
   0094 7E                  195 	ld	a,(hl)
   0095 F5                  196 	push	af
   0096 06 FF               197 	ld	b,#0xff
   0098 F1                  198 	pop	af
   0099 3C                  199 	inc	a
   009A 18 02               200 	jr	00207$
   009C                     201 00206$:
   009C CB 20               202 	sla	b
   009E                     203 00207$:
   009E 3D                  204 	dec	a
   009F 20 FB               205 	jr	NZ,00206$
   00A1 C5                  206 	push	bc
   00A2 33                  207 	inc	sp
   00A3 AF                  208 	xor	a, a
   00A4 F5                  209 	push	af
   00A5 33                  210 	inc	sp
   00A6 21r00r00            211 	ld	hl,#_THIS
   00A9 2A                  212 	ld	a,(hl+)
   00AA 66                  213 	ld	h,(hl)
   00AB 6F                  214 	ld	l,a
   00AC E5                  215 	push	hl
   00AD CDr00r00            216 	call	_TranslateSprite
   00B0 E8 04               217 	add	sp, #4
   00B2                     218 00102$:
                            219 ;SpritePlayer.c:37: if(KEY_PRESSED(J_DOWN)){
   00B2 21r00r00            220 	ld	hl,#_keys
   00B5 4E                  221 	ld	c,(hl)
   00B6 06 00               222 	ld	b,#0x00
   00B8 CB 59               223 	bit	3, c
   00BA CAr14r01            224 	jp	Z,00104$
                            225 ;SpritePlayer.c:38: THIS->y++;
   00BD 21r01r00            226 	ld	hl,#_THIS + 1
   00C0 2B                  227 	dec	hl
   00C1 4E                  228 	ld	c,(hl)
   00C2 23                  229 	inc	hl
   00C3 46                  230 	ld	b,(hl)
   00C4 21 09 00            231 	ld	hl,#0x0009
   00C7 09                  232 	add	hl,bc
   00C8 7D                  233 	ld	a,l
   00C9 54                  234 	ld	d,h
   00CA F8 03               235 	ldhl	sp,#3
   00CC 22                  236 	ld	(hl+),a
   00CD 72                  237 	ld	(hl),d
   00CE 2B                  238 	dec	hl
   00CF 5E                  239 	ld	e,(hl)
   00D0 23                  240 	inc	hl
   00D1 56                  241 	ld	d,(hl)
   00D2 1A                  242 	ld	a,(de)
   00D3 4F                  243 	ld	c,a
   00D4 13                  244 	inc	de
   00D5 1A                  245 	ld	a,(de)
   00D6 47                  246 	ld	b,a
   00D7 03                  247 	inc	bc
   00D8 2B                  248 	dec	hl
   00D9 2A                  249 	ld	a,(hl+)
   00DA 66                  250 	ld	h,(hl)
   00DB 6F                  251 	ld	l,a
   00DC 71                  252 	ld	(hl),c
   00DD 23                  253 	inc	hl
   00DE 70                  254 	ld	(hl),b
                            255 ;SpritePlayer.c:39: SetSpriteAnim(THIS, anim_down, 10);
   00DF 3E 0A               256 	ld	a,#0x0a
   00E1 F5                  257 	push	af
   00E2 33                  258 	inc	sp
   00E3 21r42r00            259 	ld	hl,#_anim_down
   00E6 E5                  260 	push	hl
   00E7 21r00r00            261 	ld	hl,#_THIS
   00EA 2A                  262 	ld	a,(hl+)
   00EB 66                  263 	ld	h,(hl)
   00EC 6F                  264 	ld	l,a
   00ED E5                  265 	push	hl
   00EE CDr00r00            266 	call	_SetSpriteAnim
   00F1 E8 05               267 	add	sp, #5
                            268 ;SpritePlayer.c:40: TranslateSprite(THIS, 0, 1 << delta_time);
   00F3 21r00r00            269 	ld	hl,#_delta_time
   00F6 7E                  270 	ld	a,(hl)
   00F7 F5                  271 	push	af
   00F8 06 01               272 	ld	b,#0x01
   00FA F1                  273 	pop	af
   00FB 3C                  274 	inc	a
   00FC 18 02               275 	jr	00210$
   00FE                     276 00209$:
   00FE CB 20               277 	sla	b
   0100                     278 00210$:
   0100 3D                  279 	dec	a
   0101 20 FB               280 	jr	NZ,00209$
   0103 C5                  281 	push	bc
   0104 33                  282 	inc	sp
   0105 AF                  283 	xor	a, a
   0106 F5                  284 	push	af
   0107 33                  285 	inc	sp
   0108 21r00r00            286 	ld	hl,#_THIS
   010B 2A                  287 	ld	a,(hl+)
   010C 66                  288 	ld	h,(hl)
   010D 6F                  289 	ld	l,a
   010E E5                  290 	push	hl
   010F CDr00r00            291 	call	_TranslateSprite
   0112 E8 04               292 	add	sp, #4
   0114                     293 00104$:
                            294 ;SpritePlayer.c:42: if(KEY_PRESSED(J_RIGHT)){
   0114 21r00r00            295 	ld	hl,#_keys
   0117 4E                  296 	ld	c,(hl)
   0118 06 00               297 	ld	b,#0x00
   011A CB 41               298 	bit	0, c
   011C CAr76r01            299 	jp	Z,00106$
                            300 ;SpritePlayer.c:43: THIS->x++;
   011F 21r01r00            301 	ld	hl,#_THIS + 1
   0122 2B                  302 	dec	hl
   0123 4E                  303 	ld	c,(hl)
   0124 23                  304 	inc	hl
   0125 46                  305 	ld	b,(hl)
   0126 21 07 00            306 	ld	hl,#0x0007
   0129 09                  307 	add	hl,bc
   012A 7D                  308 	ld	a,l
   012B 54                  309 	ld	d,h
   012C F8 03               310 	ldhl	sp,#3
   012E 22                  311 	ld	(hl+),a
   012F 72                  312 	ld	(hl),d
   0130 2B                  313 	dec	hl
   0131 5E                  314 	ld	e,(hl)
   0132 23                  315 	inc	hl
   0133 56                  316 	ld	d,(hl)
   0134 1A                  317 	ld	a,(de)
   0135 4F                  318 	ld	c,a
   0136 13                  319 	inc	de
   0137 1A                  320 	ld	a,(de)
   0138 47                  321 	ld	b,a
   0139 03                  322 	inc	bc
   013A 2B                  323 	dec	hl
   013B 2A                  324 	ld	a,(hl+)
   013C 66                  325 	ld	h,(hl)
   013D 6F                  326 	ld	l,a
   013E 71                  327 	ld	(hl),c
   013F 23                  328 	inc	hl
   0140 70                  329 	ld	(hl),b
                            330 ;SpritePlayer.c:44: SetSpriteAnim(THIS, anim_right, 10);
   0141 3E 0A               331 	ld	a,#0x0a
   0143 F5                  332 	push	af
   0144 33                  333 	inc	sp
   0145 21r45r00            334 	ld	hl,#_anim_right
   0148 E5                  335 	push	hl
   0149 21r00r00            336 	ld	hl,#_THIS
   014C 2A                  337 	ld	a,(hl+)
   014D 66                  338 	ld	h,(hl)
   014E 6F                  339 	ld	l,a
   014F E5                  340 	push	hl
   0150 CDr00r00            341 	call	_SetSpriteAnim
   0153 E8 05               342 	add	sp, #5
                            343 ;SpritePlayer.c:45: TranslateSprite(THIS, 1 << delta_time, 0);
   0155 21r00r00            344 	ld	hl,#_delta_time
   0158 7E                  345 	ld	a,(hl)
   0159 F5                  346 	push	af
   015A 06 01               347 	ld	b,#0x01
   015C F1                  348 	pop	af
   015D 3C                  349 	inc	a
   015E 18 02               350 	jr	00213$
   0160                     351 00212$:
   0160 CB 20               352 	sla	b
   0162                     353 00213$:
   0162 3D                  354 	dec	a
   0163 20 FB               355 	jr	NZ,00212$
   0165 AF                  356 	xor	a, a
   0166 F5                  357 	push	af
   0167 33                  358 	inc	sp
   0168 C5                  359 	push	bc
   0169 33                  360 	inc	sp
   016A 21r00r00            361 	ld	hl,#_THIS
   016D 2A                  362 	ld	a,(hl+)
   016E 66                  363 	ld	h,(hl)
   016F 6F                  364 	ld	l,a
   0170 E5                  365 	push	hl
   0171 CDr00r00            366 	call	_TranslateSprite
   0174 E8 04               367 	add	sp, #4
   0176                     368 00106$:
                            369 ;SpritePlayer.c:47: if(KEY_PRESSED(J_LEFT)){
   0176 21r00r00            370 	ld	hl,#_keys
   0179 4E                  371 	ld	c,(hl)
   017A 06 00               372 	ld	b,#0x00
   017C CB 49               373 	bit	1, c
   017E CArD8r01            374 	jp	Z,00108$
                            375 ;SpritePlayer.c:48: THIS->x--;
   0181 21r01r00            376 	ld	hl,#_THIS + 1
   0184 2B                  377 	dec	hl
   0185 4E                  378 	ld	c,(hl)
   0186 23                  379 	inc	hl
   0187 46                  380 	ld	b,(hl)
   0188 21 07 00            381 	ld	hl,#0x0007
   018B 09                  382 	add	hl,bc
   018C 7D                  383 	ld	a,l
   018D 54                  384 	ld	d,h
   018E F8 03               385 	ldhl	sp,#3
   0190 22                  386 	ld	(hl+),a
   0191 72                  387 	ld	(hl),d
   0192 2B                  388 	dec	hl
   0193 5E                  389 	ld	e,(hl)
   0194 23                  390 	inc	hl
   0195 56                  391 	ld	d,(hl)
   0196 1A                  392 	ld	a,(de)
   0197 4F                  393 	ld	c,a
   0198 13                  394 	inc	de
   0199 1A                  395 	ld	a,(de)
   019A 47                  396 	ld	b,a
   019B 0B                  397 	dec	bc
   019C 2B                  398 	dec	hl
   019D 2A                  399 	ld	a,(hl+)
   019E 66                  400 	ld	h,(hl)
   019F 6F                  401 	ld	l,a
   01A0 71                  402 	ld	(hl),c
   01A1 23                  403 	inc	hl
   01A2 70                  404 	ld	(hl),b
                            405 ;SpritePlayer.c:49: SetSpriteAnim(THIS, anim_left, 10);
   01A3 3E 0A               406 	ld	a,#0x0a
   01A5 F5                  407 	push	af
   01A6 33                  408 	inc	sp
   01A7 21r48r00            409 	ld	hl,#_anim_left
   01AA E5                  410 	push	hl
   01AB 21r00r00            411 	ld	hl,#_THIS
   01AE 2A                  412 	ld	a,(hl+)
   01AF 66                  413 	ld	h,(hl)
   01B0 6F                  414 	ld	l,a
   01B1 E5                  415 	push	hl
   01B2 CDr00r00            416 	call	_SetSpriteAnim
   01B5 E8 05               417 	add	sp, #5
                            418 ;SpritePlayer.c:50: TranslateSprite(THIS, -1 << delta_time, 0);
   01B7 21r00r00            419 	ld	hl,#_delta_time
   01BA 7E                  420 	ld	a,(hl)
   01BB F5                  421 	push	af
   01BC 06 FF               422 	ld	b,#0xff
   01BE F1                  423 	pop	af
   01BF 3C                  424 	inc	a
   01C0 18 02               425 	jr	00216$
   01C2                     426 00215$:
   01C2 CB 20               427 	sla	b
   01C4                     428 00216$:
   01C4 3D                  429 	dec	a
   01C5 20 FB               430 	jr	NZ,00215$
   01C7 AF                  431 	xor	a, a
   01C8 F5                  432 	push	af
   01C9 33                  433 	inc	sp
   01CA C5                  434 	push	bc
   01CB 33                  435 	inc	sp
   01CC 21r00r00            436 	ld	hl,#_THIS
   01CF 2A                  437 	ld	a,(hl+)
   01D0 66                  438 	ld	h,(hl)
   01D1 6F                  439 	ld	l,a
   01D2 E5                  440 	push	hl
   01D3 CDr00r00            441 	call	_TranslateSprite
   01D6 E8 04               442 	add	sp, #4
   01D8                     443 00108$:
                            444 ;SpritePlayer.c:52: if(keys == 0){
   01D8 21r00r00            445 	ld	hl,#_keys
   01DB 7E                  446 	ld	a,(hl)
   01DC B7                  447 	or	a, a
   01DD 20 14               448 	jr	NZ,00110$
                            449 ;SpritePlayer.c:53: SetSpriteAnim(THIS, anim_idle, 20);
   01DF 3E 14               450 	ld	a,#0x14
   01E1 F5                  451 	push	af
   01E2 33                  452 	inc	sp
   01E3 21r40r00            453 	ld	hl,#_anim_idle
   01E6 E5                  454 	push	hl
   01E7 21r00r00            455 	ld	hl,#_THIS
   01EA 2A                  456 	ld	a,(hl+)
   01EB 66                  457 	ld	h,(hl)
   01EC 6F                  458 	ld	l,a
   01ED E5                  459 	push	hl
   01EE CDr00r00            460 	call	_SetSpriteAnim
   01F1 E8 05               461 	add	sp, #5
   01F3                     462 00110$:
                            463 ;SpritePlayer.c:55: if (KEY_TICKED(J_A)) {
   01F3 21r00r00            464 	ld	hl,#_keys
   01F6 4E                  465 	ld	c,(hl)
   01F7 06 00               466 	ld	b,#0x00
   01F9 CB 61               467 	bit	4, c
   01FB CAr41r02            468 	jp	Z,00112$
   01FE 21r00r00            469 	ld	hl,#_previous_keys
   0201 4E                  470 	ld	c,(hl)
   0202 06 00               471 	ld	b,#0x00
   0204 CB 61               472 	bit	4, c
   0206 C2r41r02            473 	jp	NZ,00112$
                            474 ;SpritePlayer.c:33: THIS->y--;
   0209 21r01r00            475 	ld	hl,#_THIS + 1
   020C 2B                  476 	dec	hl
   020D 4E                  477 	ld	c,(hl)
   020E 23                  478 	inc	hl
   020F 46                  479 	ld	b,(hl)
                            480 ;SpritePlayer.c:56: SpriteManagerAdd(SPRITE_BOMB, THIS->x, THIS->y);
   0210 21 09 00            481 	ld	hl,#0x0009
   0213 09                  482 	add	hl,bc
   0214 7D                  483 	ld	a,l
   0215 54                  484 	ld	d,h
   0216 F8 03               485 	ldhl	sp,#3
   0218 22                  486 	ld	(hl+),a
   0219 72                  487 	ld	(hl),d
   021A 2B                  488 	dec	hl
   021B 5E                  489 	ld	e,(hl)
   021C 23                  490 	inc	hl
   021D 56                  491 	ld	d,(hl)
   021E 1A                  492 	ld	a,(de)
   021F 2B                  493 	dec	hl
   0220 22                  494 	ld	(hl+),a
   0221 13                  495 	inc	de
   0222 1A                  496 	ld	a,(de)
   0223 77                  497 	ld	(hl),a
   0224 21 07 00            498 	ld	hl,#0x0007
   0227 09                  499 	add	hl,bc
   0228 4D                  500 	ld	c,l
   0229 44                  501 	ld	b,h
   022A 59                  502 	ld	e, c
   022B 50                  503 	ld	d, b
   022C 1A                  504 	ld	a,(de)
   022D 4F                  505 	ld	c,a
   022E 13                  506 	inc	de
   022F 1A                  507 	ld	a,(de)
   0230 47                  508 	ld	b,a
   0231 F8 03               509 	ldhl	sp,#3
   0233 2A                  510 	ld	a,(hl+)
   0234 66                  511 	ld	h,(hl)
   0235 6F                  512 	ld	l,a
   0236 E5                  513 	push	hl
   0237 C5                  514 	push	bc
   0238 3E 06               515 	ld	a,#0x06
   023A F5                  516 	push	af
   023B 33                  517 	inc	sp
   023C CDr00r00            518 	call	_SpriteManagerAdd
   023F E8 05               519 	add	sp, #5
   0241                     520 00112$:
                            521 ;SpritePlayer.c:66: SPRITEMANAGER_ITERATE(i, spr) {
   0241 FAr01r00            522 	ld	a, (#(_sprite_manager_updatables + 0x0001) + 0)
   0244 4F                  523 	ld	c,a
   0245 06 00               524 	ld	b,#0x00
   0247 CB 21               525 	sla	c
   0249 CB 10               526 	rl	b
   024B 21r00r00            527 	ld	hl,#_sprite_manager_sprites
   024E 09                  528 	add	hl,bc
   024F 4D                  529 	ld	c,l
   0250 44                  530 	ld	b,h
   0251 59                  531 	ld	e, c
   0252 50                  532 	ld	d, b
   0253 1A                  533 	ld	a,(de)
   0254 F8 00               534 	ldhl	sp,#0
   0256 22                  535 	ld	(hl+),a
   0257 13                  536 	inc	de
   0258 1A                  537 	ld	a,(de)
   0259 22                  538 	ld	(hl+),a
   025A 36 00               539 	ld	(hl),#0x00
   025C                     540 00132$:
   025C 11r00r00            541 	ld	de, #_sprite_manager_updatables + 0
   025F 1A                  542 	ld	a,(de)
   0260 4F                  543 	ld	c,a
   0261 F8 02               544 	ldhl	sp,#2
   0263 7E                  545 	ld	a,(hl)
   0264 91                  546 	sub	a, c
   0265 CArA2r03            547 	jp	Z,00134$
                            548 ;SpritePlayer.c:67: if(spr->type == SPRITE_ENEMY) {
   0268 D1                  549 	pop	de
   0269 D5                  550 	push	de
   026A 21 10 00            551 	ld	hl,#0x0010
   026D 19                  552 	add	hl,de
   026E 4D                  553 	ld	c,l
   026F 44                  554 	ld	b,h
   0270 0A                  555 	ld	a,(bc)
   0271 3D                  556 	dec	a
   0272 C2rB0r02            557 	jp	NZ,00117$
                            558 ;SpritePlayer.c:68: if(CheckCollision(THIS, spr)) {
   0275 C5                  559 	push	bc
   0276 D1                  560 	pop	de
   0277 E1                  561 	pop	hl
   0278 E5                  562 	push	hl
   0279 D5                  563 	push	de
   027A E5                  564 	push	hl
   027B 21r00r00            565 	ld	hl,#_THIS
   027E 2A                  566 	ld	a,(hl+)
   027F 66                  567 	ld	h,(hl)
   0280 6F                  568 	ld	l,a
   0281 E5                  569 	push	hl
   0282 CDr00r00            570 	call	_CheckCollision
   0285 E8 04               571 	add	sp, #4
   0287 C1                  572 	pop	bc
   0288 7B                  573 	ld	a,e
   0289 B7                  574 	or	a, a
   028A 28 24               575 	jr	Z,00117$
                            576 ;SpritePlayer.c:69: SetState(STATE_MENU);
   028C C5                  577 	push	bc
   028D AF                  578 	xor	a, a
   028E F5                  579 	push	af
   028F 33                  580 	inc	sp
   0290 CDr00r00            581 	call	_SetState
   0293 33                  582 	inc	sp
   0294 C1                  583 	pop	bc
                            584 ;SpritePlayer.c:70: PlayFx(CHANNEL_1, 10, 0x4f, 0xc7, 0xf3, 0x73, 0x86);
   0295 C5                  585 	push	bc
   0296 21 86 00            586 	ld	hl,#0x0086
   0299 E5                  587 	push	hl
   029A 2E 73               588 	ld	l, #0x73
   029C E5                  589 	push	hl
   029D 2E F3               590 	ld	l, #0xf3
   029F E5                  591 	push	hl
   02A0 2E C7               592 	ld	l, #0xc7
   02A2 E5                  593 	push	hl
   02A3 2E 4F               594 	ld	l, #0x4f
   02A5 E5                  595 	push	hl
   02A6 21 00 0A            596 	ld	hl,#0x0a00
   02A9 E5                  597 	push	hl
   02AA CDr00r00            598 	call	_PlayFx
   02AD E8 0C               599 	add	sp, #12
   02AF C1                  600 	pop	bc
   02B0                     601 00117$:
                            602 ;SpritePlayer.c:73: if(spr->type == SPRITE_ENEMY2) {
   02B0 0A                  603 	ld	a,(bc)
   02B1 D6 02               604 	sub	a, #0x02
   02B3 C2rF1r02            605 	jp	NZ,00121$
                            606 ;SpritePlayer.c:74: if(CheckCollision(THIS, spr)) {
   02B6 C5                  607 	push	bc
   02B7 D1                  608 	pop	de
   02B8 E1                  609 	pop	hl
   02B9 E5                  610 	push	hl
   02BA D5                  611 	push	de
   02BB E5                  612 	push	hl
   02BC 21r00r00            613 	ld	hl,#_THIS
   02BF 2A                  614 	ld	a,(hl+)
   02C0 66                  615 	ld	h,(hl)
   02C1 6F                  616 	ld	l,a
   02C2 E5                  617 	push	hl
   02C3 CDr00r00            618 	call	_CheckCollision
   02C6 E8 04               619 	add	sp, #4
   02C8 C1                  620 	pop	bc
   02C9 7B                  621 	ld	a,e
   02CA B7                  622 	or	a, a
   02CB 28 24               623 	jr	Z,00121$
                            624 ;SpritePlayer.c:75: SetState(STATE_MENU);
   02CD C5                  625 	push	bc
   02CE AF                  626 	xor	a, a
   02CF F5                  627 	push	af
   02D0 33                  628 	inc	sp
   02D1 CDr00r00            629 	call	_SetState
   02D4 33                  630 	inc	sp
   02D5 C1                  631 	pop	bc
                            632 ;SpritePlayer.c:76: PlayFx(CHANNEL_1, 10, 0x4f, 0xc7, 0xf3, 0x73, 0x86);
   02D6 C5                  633 	push	bc
   02D7 21 86 00            634 	ld	hl,#0x0086
   02DA E5                  635 	push	hl
   02DB 2E 73               636 	ld	l, #0x73
   02DD E5                  637 	push	hl
   02DE 2E F3               638 	ld	l, #0xf3
   02E0 E5                  639 	push	hl
   02E1 2E C7               640 	ld	l, #0xc7
   02E3 E5                  641 	push	hl
   02E4 2E 4F               642 	ld	l, #0x4f
   02E6 E5                  643 	push	hl
   02E7 21 00 0A            644 	ld	hl,#0x0a00
   02EA E5                  645 	push	hl
   02EB CDr00r00            646 	call	_PlayFx
   02EE E8 0C               647 	add	sp, #12
   02F0 C1                  648 	pop	bc
   02F1                     649 00121$:
                            650 ;SpritePlayer.c:79: if (spr->type == SPRITE_KEY) {
   02F1 0A                  651 	ld	a,(bc)
   02F2 D6 03               652 	sub	a, #0x03
   02F4 C2r59r03            653 	jp	NZ,00125$
                            654 ;SpritePlayer.c:80: if (CheckCollision(THIS, spr)) {
   02F7 C5                  655 	push	bc
   02F8 D1                  656 	pop	de
   02F9 E1                  657 	pop	hl
   02FA E5                  658 	push	hl
   02FB D5                  659 	push	de
   02FC E5                  660 	push	hl
   02FD 21r00r00            661 	ld	hl,#_THIS
   0300 2A                  662 	ld	a,(hl+)
   0301 66                  663 	ld	h,(hl)
   0302 6F                  664 	ld	l,a
   0303 E5                  665 	push	hl
   0304 CDr00r00            666 	call	_CheckCollision
   0307 E8 04               667 	add	sp, #4
   0309 C1                  668 	pop	bc
   030A 7B                  669 	ld	a,e
   030B B7                  670 	or	a, a
   030C CAr59r03            671 	jp	Z,00125$
                            672 ;SpritePlayer.c:81: SpriteManagerRemove(1);
   030F C5                  673 	push	bc
   0310 21 01 00            674 	ld	hl,#0x0001
   0313 E5                  675 	push	hl
   0314 CDr00r00            676 	call	_SpriteManagerRemove
   0317 E8 02               677 	add	sp, #2
   0319 C1                  678 	pop	bc
                            679 ;SpritePlayer.c:82: SpriteManagerRemove(2);
   031A C5                  680 	push	bc
   031B 21 02 00            681 	ld	hl,#0x0002
   031E E5                  682 	push	hl
   031F CDr00r00            683 	call	_SpriteManagerRemove
   0322 E8 02               684 	add	sp, #2
   0324 C1                  685 	pop	bc
                            686 ;SpritePlayer.c:83: SpriteManagerAdd(SPRITE_DOOROPEN, door_x, door_y);
   0325 C5                  687 	push	bc
   0326 21r03r00            688 	ld	hl,#_door_y
   0329 2A                  689 	ld	a,(hl+)
   032A 66                  690 	ld	h,(hl)
   032B 6F                  691 	ld	l,a
   032C E5                  692 	push	hl
   032D 21r01r00            693 	ld	hl,#_door_x
   0330 2A                  694 	ld	a,(hl+)
   0331 66                  695 	ld	h,(hl)
   0332 6F                  696 	ld	l,a
   0333 E5                  697 	push	hl
   0334 3E 05               698 	ld	a,#0x05
   0336 F5                  699 	push	af
   0337 33                  700 	inc	sp
   0338 CDr00r00            701 	call	_SpriteManagerAdd
   033B E8 05               702 	add	sp, #5
   033D C1                  703 	pop	bc
                            704 ;SpritePlayer.c:84: PlayFx(CHANNEL_1, 10, 0x4U, 0xFEU, 0xA1U, 0x8FU, 0x86U);
   033E C5                  705 	push	bc
   033F 21 86 00            706 	ld	hl,#0x0086
   0342 E5                  707 	push	hl
   0343 2E 8F               708 	ld	l, #0x8f
   0345 E5                  709 	push	hl
   0346 2E A1               710 	ld	l, #0xa1
   0348 E5                  711 	push	hl
   0349 2E FE               712 	ld	l, #0xfe
   034B E5                  713 	push	hl
   034C 2E 04               714 	ld	l, #0x04
   034E E5                  715 	push	hl
   034F 21 00 0A            716 	ld	hl,#0x0a00
   0352 E5                  717 	push	hl
   0353 CDr00r00            718 	call	_PlayFx
   0356 E8 0C               719 	add	sp, #12
   0358 C1                  720 	pop	bc
   0359                     721 00125$:
                            722 ;SpritePlayer.c:87: if (spr->type == SPRITE_DOOROPEN) {
   0359 0A                  723 	ld	a,(bc)
   035A D6 05               724 	sub	a, #0x05
   035C 20 1D               725 	jr	NZ,00133$
                            726 ;SpritePlayer.c:88: if (CheckCollision(THIS, spr)) {
   035E E1                  727 	pop	hl
   035F E5                  728 	push	hl
   0360 E5                  729 	push	hl
   0361 21r00r00            730 	ld	hl,#_THIS
   0364 2A                  731 	ld	a,(hl+)
   0365 66                  732 	ld	h,(hl)
   0366 6F                  733 	ld	l,a
   0367 E5                  734 	push	hl
   0368 CDr00r00            735 	call	_CheckCollision
   036B E8 04               736 	add	sp, #4
   036D 7B                  737 	ld	a,e
   036E B7                  738 	or	a, a
   036F 28 0A               739 	jr	Z,00133$
                            740 ;SpritePlayer.c:89: SetState(next_lvl);
   0371 21r05r00            741 	ld	hl,#_next_lvl
   0374 46                  742 	ld	b,(hl)
   0375 C5                  743 	push	bc
   0376 33                  744 	inc	sp
   0377 CDr00r00            745 	call	_SetState
   037A 33                  746 	inc	sp
   037B                     747 00133$:
                            748 ;SpritePlayer.c:66: SPRITEMANAGER_ITERATE(i, spr) {
   037B F8 02               749 	ldhl	sp,#2
   037D 34                  750 	inc	(hl)
   037E 4E                  751 	ld	c,(hl)
   037F 06 00               752 	ld	b,#0x00
   0381 03                  753 	inc	bc
   0382 21r00r00            754 	ld	hl,#_sprite_manager_updatables
   0385 09                  755 	add	hl,bc
   0386 4D                  756 	ld	c,l
   0387 44                  757 	ld	b,h
   0388 0A                  758 	ld	a,(bc)
   0389 4F                  759 	ld	c,a
   038A 06 00               760 	ld	b,#0x00
   038C CB 21               761 	sla	c
   038E CB 10               762 	rl	b
   0390 21r00r00            763 	ld	hl,#_sprite_manager_sprites
   0393 09                  764 	add	hl,bc
   0394 4D                  765 	ld	c,l
   0395 44                  766 	ld	b,h
   0396 59                  767 	ld	e, c
   0397 50                  768 	ld	d, b
   0398 1A                  769 	ld	a,(de)
   0399 F8 00               770 	ldhl	sp,#0
   039B 22                  771 	ld	(hl+),a
   039C 13                  772 	inc	de
   039D 1A                  773 	ld	a,(de)
   039E 77                  774 	ld	(hl),a
   039F C3r5Cr02            775 	jp	00132$
   03A2                     776 00134$:
   03A2 E8 05               777 	add	sp, #5
   03A4 C9                  778 	ret
                            779 ;SpritePlayer.c:96: void Destroy_SPRITE_PLAYER() {
                            780 ;	---------------------------------
                            781 ; Function Destroy_SPRITE_PLAYER
                            782 ; ---------------------------------
   03A5                     783 _Destroy_SPRITE_PLAYER::
                            784 ;SpritePlayer.c:97: }
   03A5 C9                  785 	ret
                            786 	.area _CODE_2
                            787 	.area _CABS (ABS)
