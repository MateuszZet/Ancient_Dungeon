                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.0 #9615 (MINGW64)
                              4 ;--------------------------------------------------------
                              5 	.module ZGBMain_Init
                              6 	.optsdcc -mgbz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _InitSprites
                             12 	.globl _InitStates
                             13 	.globl _Destroy_SPRITE_ENEMY2
                             14 	.globl _Update_SPRITE_ENEMY2
                             15 	.globl _Start_SPRITE_ENEMY2
                             16 	.globl _Destroy_SPRITE_DOOROPEN
                             17 	.globl _Update_SPRITE_DOOROPEN
                             18 	.globl _Start_SPRITE_DOOROPEN
                             19 	.globl _Destroy_SPRITE_DOOR
                             20 	.globl _Update_SPRITE_DOOR
                             21 	.globl _Start_SPRITE_DOOR
                             22 	.globl _Destroy_SPRITE_KEY
                             23 	.globl _Update_SPRITE_KEY
                             24 	.globl _Start_SPRITE_KEY
                             25 	.globl _Destroy_SPRITE_ENEMY
                             26 	.globl _Update_SPRITE_ENEMY
                             27 	.globl _Start_SPRITE_ENEMY
                             28 	.globl _Destroy_SPRITE_PLAYER
                             29 	.globl _Update_SPRITE_PLAYER
                             30 	.globl _Start_SPRITE_PLAYER
                             31 	.globl _Update_STATE_GAME2
                             32 	.globl _Start_STATE_GAME2
                             33 	.globl _Update_STATE_MENU
                             34 	.globl _Start_STATE_MENU
                             35 	.globl _Update_STATE_GAME
                             36 	.globl _Start_STATE_GAME
                             37 	.globl _InitSpriteInfo
                             38 	.globl _spritePalDatas
                             39 	.globl _n_sprite_types
                             40 	.globl _spriteIdxs
                             41 	.globl _spriteNumFrames
                             42 	.globl _spriteFrameSizes
                             43 	.globl _spriteDataBanks
                             44 	.globl _spriteDatas
                             45 	.globl _spriteDestroyFuncs
                             46 	.globl _spriteUpdateFuncs
                             47 	.globl _spriteStartFuncs
                             48 	.globl _spriteBanks
                             49 	.globl _updateFuncs
                             50 	.globl _startFuncs
                             51 	.globl _stateBanks
                             52 	.globl _next_state
                             53 	.globl _init_bank
                             54 ;--------------------------------------------------------
                             55 ; ram data
                             56 ;--------------------------------------------------------
                             57 	.area _DATA
   0000                      58 _init_bank::
   0000                      59 	.ds 1
   0001                      60 _next_state::
   0001                      61 	.ds 1
   0002                      62 _stateBanks::
   0002                      63 	.ds 3
   0005                      64 _startFuncs::
   0005                      65 	.ds 6
   000B                      66 _updateFuncs::
   000B                      67 	.ds 6
   0011                      68 _spriteBanks::
   0011                      69 	.ds 6
   0017                      70 _spriteStartFuncs::
   0017                      71 	.ds 12
   0023                      72 _spriteUpdateFuncs::
   0023                      73 	.ds 12
   002F                      74 _spriteDestroyFuncs::
   002F                      75 	.ds 12
   003B                      76 _spriteDatas::
   003B                      77 	.ds 12
   0047                      78 _spriteDataBanks::
   0047                      79 	.ds 6
   004D                      80 _spriteFrameSizes::
   004D                      81 	.ds 6
   0053                      82 _spriteNumFrames::
   0053                      83 	.ds 6
   0059                      84 _spriteIdxs::
   0059                      85 	.ds 6
   005F                      86 _n_sprite_types::
   005F                      87 	.ds 1
   0060                      88 _spritePalDatas::
   0060                      89 	.ds 12
                             90 ;--------------------------------------------------------
                             91 ; absolute external ram data
                             92 ;--------------------------------------------------------
                             93 	.area _DABS (ABS)
                             94 ;--------------------------------------------------------
                             95 ; global & static initialisations
                             96 ;--------------------------------------------------------
                             97 	.area _HOME
                             98 	.area _GSINIT
                             99 	.area _GSFINAL
                            100 	.area _GSINIT
                            101 ;ZGBMain_Init.c:3: UINT8 init_bank = 1;
   0000 21r00r00            102 	ld	hl,#_init_bank
   0003 36 01               103 	ld	(hl),#0x01
                            104 ;ZGBMain_Init.c:31: UINT8 next_state = STATE_MENU;
   0005 21r01r00            105 	ld	hl,#_next_state
   0008 36 00               106 	ld	(hl),#0x00
                            107 ;ZGBMain_Init.c:34: SET_N_SPRITE_TYPES(N_SPRITE_TYPES);
   000A 21r5Fr00            108 	ld	hl,#_n_sprite_types
   000D 36 06               109 	ld	(hl),#0x06
                            110 ;--------------------------------------------------------
                            111 ; Home
                            112 ;--------------------------------------------------------
                            113 	.area _HOME
                            114 	.area _HOME
                            115 ;--------------------------------------------------------
                            116 ; code
                            117 ;--------------------------------------------------------
                            118 	.area _CODE_1
                            119 ;ZGBMain_Init.c:36: void InitStates() {
                            120 ;	---------------------------------
                            121 ; Function InitStates
                            122 ; ---------------------------------
   0000                     123 _InitStates::
                            124 ;ZGBMain_Init.c:37: INIT_STATE(STATE_MENU);
   0000 11r02r00            125 	ld	de,#_stateBanks
   0003 21r00r00            126 	ld	hl,#_bank_STATE_MENU
   0006 7E                  127 	ld	a,(hl)
   0007 12                  128 	ld	(de),a
   0008 21r05r00            129 	ld	hl,#_startFuncs
   000B 36r00               130 	ld	(hl),#<(_Start_STATE_MENU)
   000D 23                  131 	inc	hl
   000E 36s00               132 	ld	(hl),#>(_Start_STATE_MENU)
   0010 21r0Br00            133 	ld	hl,#_updateFuncs
   0013 36r00               134 	ld	(hl),#<(_Update_STATE_MENU)
   0015 23                  135 	inc	hl
   0016 36s00               136 	ld	(hl),#>(_Update_STATE_MENU)
                            137 ;ZGBMain_Init.c:38: INIT_STATE(STATE_GAME);
   0018 11r03r00            138 	ld	de,#(_stateBanks + 0x0001)
   001B 21r00r00            139 	ld	hl,#_bank_STATE_GAME
   001E 7E                  140 	ld	a,(hl)
   001F 12                  141 	ld	(de),a
   0020 21r07r00            142 	ld	hl,#(_startFuncs + 0x0002)
   0023 36r00               143 	ld	(hl),#<(_Start_STATE_GAME)
   0025 23                  144 	inc	hl
   0026 36s00               145 	ld	(hl),#>(_Start_STATE_GAME)
   0028 21r0Dr00            146 	ld	hl,#(_updateFuncs + 0x0002)
   002B 36r00               147 	ld	(hl),#<(_Update_STATE_GAME)
   002D 23                  148 	inc	hl
   002E 36s00               149 	ld	(hl),#>(_Update_STATE_GAME)
                            150 ;ZGBMain_Init.c:39: INIT_STATE(STATE_GAME2);
   0030 11r04r00            151 	ld	de,#(_stateBanks + 0x0002)
   0033 21r00r00            152 	ld	hl,#_bank_STATE_GAME2
   0036 7E                  153 	ld	a,(hl)
   0037 12                  154 	ld	(de),a
   0038 21r09r00            155 	ld	hl,#(_startFuncs + 0x0004)
   003B 36r00               156 	ld	(hl),#<(_Start_STATE_GAME2)
   003D 23                  157 	inc	hl
   003E 36s00               158 	ld	(hl),#>(_Start_STATE_GAME2)
   0040 21r0Fr00            159 	ld	hl,#(_updateFuncs + 0x0004)
   0043 36r00               160 	ld	(hl),#<(_Update_STATE_GAME2)
   0045 23                  161 	inc	hl
   0046 36s00               162 	ld	(hl),#>(_Update_STATE_GAME2)
   0048 C9                  163 	ret
                            164 ;ZGBMain_Init.c:42: void InitSprites() {
                            165 ;	---------------------------------
                            166 ; Function InitSprites
                            167 ; ---------------------------------
   0049                     168 _InitSprites::
                            169 ;ZGBMain_Init.c:43: INIT_SPRITE(SPRITE_PLAYER, player, 3, FRAME_16x16, 9);
   0049 21 00 00            170 	ld	hl,#0x0000
   004C E5                  171 	push	hl
   004D 21 02 09            172 	ld	hl,#0x0902
   0050 E5                  173 	push	hl
   0051 3E 03               174 	ld	a,#0x03
   0053 F5                  175 	push	af
   0054 33                  176 	inc	sp
   0055 21r00r00            177 	ld	hl,#_player
   0058 E5                  178 	push	hl
   0059 21r00r00            179 	ld	hl,#_Destroy_SPRITE_PLAYER
   005C E5                  180 	push	hl
   005D 21r00r00            181 	ld	hl,#_Update_SPRITE_PLAYER
   0060 E5                  182 	push	hl
   0061 21r00r00            183 	ld	hl,#_Start_SPRITE_PLAYER
   0064 E5                  184 	push	hl
   0065 21r00r00            185 	ld	hl,#_bank_SPRITE_PLAYER
   0068 7E                  186 	ld	a,(hl)
   0069 F5                  187 	push	af
   006A 33                  188 	inc	sp
   006B AF                  189 	xor	a, a
   006C F5                  190 	push	af
   006D 33                  191 	inc	sp
   006E CDr00r00            192 	call	_InitSpriteInfo
   0071 E8 0F               193 	add	sp, #15
                            194 ;ZGBMain_Init.c:44: INIT_SPRITE(SPRITE_ENEMY, enemy, 3, FRAME_16x16, 5);
   0073 21 00 00            195 	ld	hl,#0x0000
   0076 E5                  196 	push	hl
   0077 21 02 05            197 	ld	hl,#0x0502
   007A E5                  198 	push	hl
   007B 3E 03               199 	ld	a,#0x03
   007D F5                  200 	push	af
   007E 33                  201 	inc	sp
   007F 21r00r00            202 	ld	hl,#_enemy
   0082 E5                  203 	push	hl
   0083 21r00r00            204 	ld	hl,#_Destroy_SPRITE_ENEMY
   0086 E5                  205 	push	hl
   0087 21r00r00            206 	ld	hl,#_Update_SPRITE_ENEMY
   008A E5                  207 	push	hl
   008B 21r00r00            208 	ld	hl,#_Start_SPRITE_ENEMY
   008E E5                  209 	push	hl
   008F 21r00r00            210 	ld	hl,#_bank_SPRITE_ENEMY
   0092 7E                  211 	ld	a,(hl)
   0093 F5                  212 	push	af
   0094 33                  213 	inc	sp
   0095 3E 01               214 	ld	a,#0x01
   0097 F5                  215 	push	af
   0098 33                  216 	inc	sp
   0099 CDr00r00            217 	call	_InitSpriteInfo
   009C E8 0F               218 	add	sp, #15
                            219 ;ZGBMain_Init.c:46: INIT_SPRITE(SPRITE_KEY, key, 3, FRAME_16x16, 6);
   009E 21 00 00            220 	ld	hl,#0x0000
   00A1 E5                  221 	push	hl
   00A2 21 02 06            222 	ld	hl,#0x0602
   00A5 E5                  223 	push	hl
   00A6 3E 03               224 	ld	a,#0x03
   00A8 F5                  225 	push	af
   00A9 33                  226 	inc	sp
   00AA 21r00r00            227 	ld	hl,#_key
   00AD E5                  228 	push	hl
   00AE 21r00r00            229 	ld	hl,#_Destroy_SPRITE_KEY
   00B1 E5                  230 	push	hl
   00B2 21r00r00            231 	ld	hl,#_Update_SPRITE_KEY
   00B5 E5                  232 	push	hl
   00B6 21r00r00            233 	ld	hl,#_Start_SPRITE_KEY
   00B9 E5                  234 	push	hl
   00BA 21r00r00            235 	ld	hl,#_bank_SPRITE_KEY
   00BD 7E                  236 	ld	a,(hl)
   00BE F5                  237 	push	af
   00BF 33                  238 	inc	sp
   00C0 3E 03               239 	ld	a,#0x03
   00C2 F5                  240 	push	af
   00C3 33                  241 	inc	sp
   00C4 CDr00r00            242 	call	_InitSpriteInfo
   00C7 E8 0F               243 	add	sp, #15
                            244 ;ZGBMain_Init.c:47: INIT_SPRITE(SPRITE_DOOR, door, 3, FRAME_16x16, 1);
   00C9 21 00 00            245 	ld	hl,#0x0000
   00CC E5                  246 	push	hl
   00CD 21 02 01            247 	ld	hl,#0x0102
   00D0 E5                  248 	push	hl
   00D1 3E 03               249 	ld	a,#0x03
   00D3 F5                  250 	push	af
   00D4 33                  251 	inc	sp
   00D5 21r00r00            252 	ld	hl,#_door
   00D8 E5                  253 	push	hl
   00D9 21r00r00            254 	ld	hl,#_Destroy_SPRITE_DOOR
   00DC E5                  255 	push	hl
   00DD 21r00r00            256 	ld	hl,#_Update_SPRITE_DOOR
   00E0 E5                  257 	push	hl
   00E1 21r00r00            258 	ld	hl,#_Start_SPRITE_DOOR
   00E4 E5                  259 	push	hl
   00E5 21r00r00            260 	ld	hl,#_bank_SPRITE_DOOR
   00E8 7E                  261 	ld	a,(hl)
   00E9 F5                  262 	push	af
   00EA 33                  263 	inc	sp
   00EB 3E 04               264 	ld	a,#0x04
   00ED F5                  265 	push	af
   00EE 33                  266 	inc	sp
   00EF CDr00r00            267 	call	_InitSpriteInfo
   00F2 E8 0F               268 	add	sp, #15
                            269 ;ZGBMain_Init.c:48: INIT_SPRITE(SPRITE_DOOROPEN, dooropen, 3, FRAME_16x16, 1);
   00F4 21 00 00            270 	ld	hl,#0x0000
   00F7 E5                  271 	push	hl
   00F8 21 02 01            272 	ld	hl,#0x0102
   00FB E5                  273 	push	hl
   00FC 3E 03               274 	ld	a,#0x03
   00FE F5                  275 	push	af
   00FF 33                  276 	inc	sp
   0100 21r00r00            277 	ld	hl,#_dooropen
   0103 E5                  278 	push	hl
   0104 21r00r00            279 	ld	hl,#_Destroy_SPRITE_DOOROPEN
   0107 E5                  280 	push	hl
   0108 21r00r00            281 	ld	hl,#_Update_SPRITE_DOOROPEN
   010B E5                  282 	push	hl
   010C 21r00r00            283 	ld	hl,#_Start_SPRITE_DOOROPEN
   010F E5                  284 	push	hl
   0110 21r00r00            285 	ld	hl,#_bank_SPRITE_DOOROPEN
   0113 7E                  286 	ld	a,(hl)
   0114 F5                  287 	push	af
   0115 33                  288 	inc	sp
   0116 3E 05               289 	ld	a,#0x05
   0118 F5                  290 	push	af
   0119 33                  291 	inc	sp
   011A CDr00r00            292 	call	_InitSpriteInfo
   011D E8 0F               293 	add	sp, #15
                            294 ;ZGBMain_Init.c:49: INIT_SPRITE(SPRITE_ENEMY2, enemy2, 3, FRAME_16x16, 6);
   011F 21 00 00            295 	ld	hl,#0x0000
   0122 E5                  296 	push	hl
   0123 21 02 06            297 	ld	hl,#0x0602
   0126 E5                  298 	push	hl
   0127 3E 03               299 	ld	a,#0x03
   0129 F5                  300 	push	af
   012A 33                  301 	inc	sp
   012B 21r00r00            302 	ld	hl,#_enemy2
   012E E5                  303 	push	hl
   012F 21r00r00            304 	ld	hl,#_Destroy_SPRITE_ENEMY2
   0132 E5                  305 	push	hl
   0133 21r00r00            306 	ld	hl,#_Update_SPRITE_ENEMY2
   0136 E5                  307 	push	hl
   0137 21r00r00            308 	ld	hl,#_Start_SPRITE_ENEMY2
   013A E5                  309 	push	hl
   013B 21r00r00            310 	ld	hl,#_bank_SPRITE_ENEMY2
   013E 7E                  311 	ld	a,(hl)
   013F F5                  312 	push	af
   0140 33                  313 	inc	sp
   0141 3E 02               314 	ld	a,#0x02
   0143 F5                  315 	push	af
   0144 33                  316 	inc	sp
   0145 CDr00r00            317 	call	_InitSpriteInfo
   0148 E8 0F               318 	add	sp, #15
   014A C9                  319 	ret
                            320 	.area _CODE_1
                            321 	.area _CABS (ABS)
